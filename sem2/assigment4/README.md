# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ2 –ø–æ –∫—É—Ä—Å—É "–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä–∫—É—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö". –°–µ–º–µ—Å—Ç—Ä 2.

–°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ –Ω—É–∂–Ω–æ –¥–æ 20 –º–∞—è.

–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Ç–µ—Å—Ç: https://contest.yandex.ru/contest/4525/ .

-----------------------------------------------------------

## –ó–∞–¥–∞—á–∞ ‚Ññ 1 RMQ (5 –±–∞–ª–ª–æ–≤)

–î–∞–Ω–æ —á–∏—Å–ª–æ N –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑ N —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª. –ù–∞–π—Ç–∏ –≤—Ç–æ—Ä—É—é –ø–æ—Ä—è–¥–∫–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö.

*–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –∑–∞–¥–∞–Ω—ã 2 —á–∏—Å–ª–∞: —Ä–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ N –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ M. –°–ª–µ–¥—É—é—â–∏–µ N —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –∑–∞–¥–∞—é—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –î–∞–ª–µ–µ –≤–≤–æ–¥—è—Ç—Å—è M –ø–∞—Ä —á–∏—Å–µ–ª - –≥—Ä–∞–Ω–∏—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤.  –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –∫–∞–∂–¥—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–∫ –º–∏–Ω–∏–º—É–º 2 —ç–ª–µ–º–µ–Ω—Ç–∞.

*–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ M –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ - 2—é –ø–æ—Ä—è–¥–∫–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É. –ü–æ –æ–¥–Ω–æ–º—É —á–∏—Å–ª—É –≤ —Å—Ç—Ä–æ–∫–µ.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö **Sparse Table**. –¢—Ä–µ–±—É–µ–º–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ O(1). –í—Ä–µ–º—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö O(n log n).

 |  in                 | out |
 |---------------------|-----|
 |10 3                 | 2   |
 |1 2 3 4 5 6 7 8 9 10 | 2   |
 |1 2                  | 3   |
 |1 10                 |     |
 |2 7                  |     |


-----------------------------------------------------------

## –ó–∞–¥–∞—á–∞ ‚Ññ2 –î–µ—Ä–µ–≤–æ –æ—Ç—Ä–µ–∑–∫–æ–≤ (5 –±–∞–ª–ª–æ–≤)

**2\_1. –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.** –û–û–û –ù–æ–≤—ã–µ –ñ–µ–ª–µ–∑–Ω—ã–µ –î–æ—Ä–æ–≥–∏ –ø–æ—Ä—É—á–∏–ª–æ –≤–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –ø–æ–µ–∑–¥–∞ –¥–∞–ª—å–Ω–µ–≥–æ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –ú–∞—Ä—à—Ä—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ N —Å—Ç–∞–Ω—Ü–∏–π, –∑–∞–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç 0 –¥–æ N-1. –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞. –í —Å–∏—Å—Ç–µ–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—Ö–æ–¥—è—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–æ–º–µ—Ä–∞ –Ω–∞—á–∞–ª—å–Ω–æ–π –∏ –∫–æ–Ω–µ—á–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Å—Å–∞–∂–∏—Ä —Ö–æ—á–µ—Ç –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏. –¢—Ä–µ–±—É–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ - O(log N).

*–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —á–∏—Å–ª–æ N ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞–Ω—Ü–∏–π (1 ‚â§ N ‚â§ 50 000). –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤. –í –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–æ–¥–∞–Ω–æ –ø–æ –æ–¥–Ω–æ–º—É –±–∏–ª–µ—Ç—É –Ω–∞ –ø–µ—Ä–µ–≥–æ–Ω–∞—Ö 0->1 –∏ 4->5. –í —Ç—Ä–µ—Ç—å–µ–π —Å—Ç—Ä–æ–∫–µ —É–∫–∞–∑–∞–Ω–∞ –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∞. –í —á–µ—Ç–≤—ë—Ä—Ç–æ–π - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –î–∞–ª–µ–µ –∏–¥—É—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∑–∞–ø—Ä–æ—Å—ã –≤ –≤–∏–¥–µ: –Ω–æ–º–µ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏, –Ω–æ–º–µ—Ä –∫–æ–Ω–µ—á–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –±–∏–ª–µ—Ç–æ–≤.

*–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç.

 |  in      | out |
 |----------|-----|
 |6         |3 5  |
 |1 0 0 0 1 |     |
 |5         |     |
 |8         |     |
 |0 2 1     |     |
 |1 4 2     |     |
 |2 5 1     |     |
 |1 3 3     |     |
 |3 5 2     |     |
 |0 4 1     |     |
 |0 1 3     |     |
 |1 3 2     |     |


**2\_2. –•—É–¥–æ–∂–Ω–∏–∫ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ.** –£ —Ö—É–¥–æ–∂–Ω–∏–∫–∞-–∞–≤–∞–Ω–≥–∞—Ä–¥–∏—Å—Ç–∞ –µ—Å—Ç—å –ø–æ–ª–æ—Å–∫–∞ —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω–æ–≥–æ —Ö–æ–ª—Å—Ç–∞. –ó–∞ –æ–¥–∏–Ω —Ä–∞–∑ –æ–Ω –ø–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Ä–µ–∑–æ–∫ –ø–æ–ª–æ—Å–∫–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–π —Ü–≤–µ—Ç. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—ã–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ –¥–µ–ª–∞–µ—Ç —Å–Ω–∏–º–æ–∫ —á–∞—Å—Ç–∏ –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ—Å—è —Ç–≤–æ—Ä–µ–Ω–∏—è –¥–ª—è –º—É–∑–µ—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞. –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —ç–∫—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—Ç—å —è—Ä–∫–æ—Å—Ç—å —Å–∞–º–æ–≥–æ —Ç–µ–º–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–æ–º –æ—Ç—Ä–µ–∑–∫–µ. –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç–∏ —Å–∞–º–æ–≥–æ —Ç–µ–º–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ. –¢—Ä–µ–±—É–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç–∏ - O(log N).
–¶–≤–µ—Ç –∑–∞–¥–∞–µ—Ç—Å—è —Ç—Ä–µ–º—è —á–∏—Å–ª–∞–º–∏ R, G –∏ B (0 ‚â§ R, G, B ‚â§ 255), –µ–≥–æ —è—Ä–∫–æ—Å—Ç—å = R + G + B. –¶–≤–µ—Ç (R1, G1, B1) —Ç–µ–º–Ω–µ–µ —Ü–≤–µ—Ç–∞ (R2, G2, B2), –µ—Å–ª–∏ R1 + G1 + B1 < R2 + G2 + B2.

*–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —á–∏—Å–ª–æ N ‚Äì –¥–ª–∏–Ω–∞ –æ—Ç—Ä–µ–∑–∫–∞ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã [0...N-1]). –ó–∞—Ç–µ–º —Å–ª–µ–¥—É–µ—Ç N —Å—Ç—Ä–æ–∫ –ø–æ 3 —á–∏—Å–ª–∞ ‚Äì —Ü–≤–µ—Ç–∞ –æ—Ç—Ä–µ–∑–∫–∞.
–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —á–∏—Å–ª–æ K ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–π –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–π. –ó–∞—Ç–µ–º –∑–∞–¥–∞–Ω–æ K —Å—Ç—Ä–æ–∫, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –ø–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ. –í –∫–∞–∂–¥–æ–π —Ç–∞–∫–æ–π —Å—Ç—Ä–æ–∫–µ 7 –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª: C, D, R, G, B, E, F, –≥–¥–µ [C, D] ‚Äì –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ –æ—Ç—Ä–µ–∑–∫–∞, (R, G, B) ‚Äì —Ü–≤–µ—Ç –ø–æ–∫—Ä–∞—Å–∫–∏, [E, F] ‚Äì —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–µ–º—ã–π –æ—Ç—Ä–µ–∑–æ–∫.

*–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–≤–µ—Å—Ç–∏ K —Å—Ç—Ä–æ–∫. –í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ ‚Äì —è—Ä–∫–æ—Å—Ç—å —Å–∞–º–æ–≥–æ —Ç–µ–º–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ [E, F] –ø–æ—Å–ª–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è.

 |  in             | out |
 |-----------------|-----|
 |5                |30   |
 |7 40 3           |181  |
 |54 90 255        |     |
 |44 230 8         |     |
 |33 57 132        |     |
 |17 8 5           |     |
 |2                |     |
 |0 3 100 40 41 2 4|     |
 |2 4 0 200 57 1 3 |     |


-----------------------------------------------------------

## –ó–∞–¥–∞—á–∞ ‚Ññ 3 LCA (5 –±–∞–ª–ª–æ–≤)

–ó–∞–¥–∞–Ω–æ –¥–µ—Ä–µ–≤–æ —Å –∫–æ—Ä–Ω–µ–º, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ ùëõ (1 ‚â§ ùëõ ‚â§ 100 000) –≤–µ—Ä—à–∏–Ω, –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç 0 –¥–æ ùëõ‚àí1. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ ùëö (1 ‚â§ ùëö ‚â§ 10 000 000) –∑–∞–ø—Ä–æ—Å–æ–≤ –æ –Ω–∞–∏–º–µ–Ω—å—à–µ–º –æ–±—â–µ–º –ø—Ä–µ–¥–∫–µ –¥–ª—è –ø–∞—Ä—ã –≤–µ—Ä—à–∏–Ω. –ó–∞–ø—Ä–æ—Å—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º. –ó–∞–¥–∞–Ω—ã —á–∏—Å–ª–∞ ùëé1, ùëé2 –∏ —á–∏—Å–ª–∞ ùë•, ùë¶ –∏ ùëß. –ß–∏—Å–ª–∞ ùëé3, . . . , ùëé2ùëö –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: ùëéùëñ = (ùë•¬∑ùëéùëñ‚àí2+ùë¶¬∑ùëéùëñ‚àí1+ùëß) mod ùëõ. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–º–µ–µ—Ç –≤–∏–¥ ‚ü®ùëé1, ùëé2‚ü©. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–∞ ùëñ‚àí1-–π –∑–∞–ø—Ä–æ—Å —Ä–∞–≤–µ–Ω ùë£, —Ç–æ ùëñ-–π –∑–∞–ø—Ä–æ—Å –∏–º–µ–µ—Ç –≤–∏–¥ ‚ü®(ùëé2ùëñ‚àí1 + ùë£) mod ùëõ, ùëé2ùëñ‚ü©.
–î–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –¥–≤–æ–∏—á–Ω–æ–≥–æ –ø–æ–¥—ä—ë–º–∞.

*–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —á–∏—Å–ª–∞: ùëõ –∏ ùëö. –ö–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ –∏–º–µ–µ—Ç –Ω–æ–º–µ—Ä 0.
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç ùëõ ‚àí 1 —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª, ùëñ-–µ –∏–∑ —ç—Ç–∏—Ö —á–∏—Å–µ–ª —Ä–∞–≤–Ω–æ –Ω–æ–º–µ—Ä—É —Ä–æ–¥–∏—Ç–µ–ª—è –≤–µ—Ä—à–∏–Ω—ã ùëñ.
–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 0 –¥–æ ùëõ‚àí1: ùëé1 –∏ ùëé2.
–ß–µ—Ç–≤–µ—Ä—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∏ —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞: ùë•, ùë¶ –∏ ùëß, —ç—Ç–∏ —á–∏—Å–ª–∞ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã –∏ –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—è—Ç 109.

*–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–í—ã–≤–µ–¥–∏—Ç–µ –≤ –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Å—É–º–º—É –Ω–æ–º–µ—Ä–æ–≤ –≤–µ—Ä—à–∏–Ω ‚Äî –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã.

 | in   | out |
 |------|-----|
 |3 2   |2    |
 |0 1   |     |
 |2 1   |     |
 |1 1 0 |     |

-----------------------------------------------------------

## –ó–∞–¥–∞—á–∞ ‚Ññ 4. –°—É–ø–µ—Ä-–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ (5 –±–∞–ª–ª–æ–≤)

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö ‚Äú–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫‚Äù –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–µ–∫–∞—Ä—Ç–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø–æ –Ω–µ—è–≤–Ω–æ–º—É –∫–ª—é—á—É —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –ø–æ–∑–∏—Ü–∏—é position.
    // –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ —Å–¥–≤–∏–≥–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω—É –ø–æ–∑–∏—Ü–∏—é –≤–ø–µ—Ä–µ–¥.
    void InsertAt( int position, const std::string& value );
    // –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ position.
    // –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ —Å–¥–≤–∏–≥–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω—É –ø–æ–∑–∏—Ü–∏—é –Ω–∞–∑–∞–¥.
    void DeleteAt( int position );
    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ position.
    std::string GetAt( int position );

–í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ O(log n) –≤ —Å—Ä–µ–¥–Ω–µ–º, –≥–¥–µ n ‚Äì —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –º–∞—Å—Å–∏–≤–µ.

*–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥ k ‚â§ 106.
–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ k —Å—Ç—Ä–æ–∫ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥:
–ö–æ–º–∞–Ω–¥–∞ ‚Äú+ 10 hello‚Äù
–æ–∑–Ω–∞—á–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ hello –≤ –ø–æ–∑–∏—Ü–∏—é 10.
–ö–æ–º–∞–Ω–¥–∞ ‚Äú- 14‚Äù
–æ–∑–Ω–∞—á–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ 14.
–ö–æ–º–∞–Ω–¥–∞ ‚Äú? 33‚Äù
–æ–∑–Ω–∞—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –≤ –ø–æ–∑–∏—Ü–∏–∏ 33.

*–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
–í—ã–≤–µ–¥–∏—Ç–µ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥–∞–º–∏ ‚Äú?‚Äù.

 |  in     | out |
 |---------|-----|
 |6        |krya |
 |+ 0 myau |gav  |
 |+ 0 krya |     |
 |? 0      |     |
 |+ 2 gav  |     |
 |- 1      |     |
 |? 1      |     |
